<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="bios1">
<title>Lab 5: Writing and debugging a function in R • bios1</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Lab 5: Writing and debugging a function in R">
<meta property="og:description" content="bios1">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bios1</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Homework1.html">BIOS 1 - Homework 1</a>
    <a class="dropdown-item" href="../articles/Lab5.html">Lab 5: Writing and debugging a function in R</a>
    <a class="dropdown-item" href="../articles/Tutorial5.html">Tutorial 5</a>
    <a class="dropdown-item" href="../articles/cancer_reg.html">Cancer Death vs Poverty by County in US</a>
    <a class="dropdown-item" href="../articles/standardization_simplified.html">Standardization simplified</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Lab 5: Writing and debugging a function in R</h1>
            
      
      
      <div class="d-none name"><code>Lab5.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>In this lab, you will learn how to write a simple function in R and
use the <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code> command to debug it. Debugging is a
crucial step in the development process of any software. It involves
finding and fixing errors or bugs in your code. The
<code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code> command allows you to stop the execution of your
code at a specific point and inspect the values of variables and
objects.</p>
</div>
<div class="section level2">
<h2 id="loading-data">Loading data<a class="anchor" aria-label="anchor" href="#loading-data"></a>
</h2>
<p>We will use the <code>NHANES</code> library which provides a small
subset of the National Health and Nutrition Examination data (<a href="https://wwwn.cdc.gov/nchs/nhanes/Default.aspx" class="external-link uri">https://wwwn.cdc.gov/nchs/nhanes/Default.aspx</a>).</p>
<p>Install and load the “NHANES” dataset and find the help page that
contains a codebook.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Do not include an evaluated <code>install.package()</code> in
your Rmd program. What can happen if you do?</p></li>
<li><p>What is in the “Description” section of the help page for the
“NHANES” object?</p></li>
</ol>
<div class="section level3">
<h3 id="viewing-the-data">Viewing the data<a class="anchor" aria-label="anchor" href="#viewing-the-data"></a>
</h3>
<p>Note that the following command is for interactive use only, so to
show it only you can use the <code>eval = FALSE</code> command to the
code chunk.</p>
<p>What can happen if you have an evaluated <code><a href="https://rdrr.io/r/utils/View.html" class="external-link">View()</a></code> command
in your .Rmd file?</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">NHANES</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="summarizing-the-data">Summarizing the data<a class="anchor" aria-label="anchor" href="#summarizing-the-data"></a>
</h2>
<p>Use the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function to summarize the dataset. How
many missing values are there for weight and height?</p>
</div>
<div class="section level2">
<h2 id="writing-a-function">Writing a Function<a class="anchor" aria-label="anchor" href="#writing-a-function"></a>
</h2>
<p>Let’s write a function that takes two arguments: 1. df is a dataframe
with two columns of numeric data 2. <code>i</code> is an integer vector
of indices corresponding to rows of this dataframe that will be used in
the calculation</p>
<p>The function filters the dataframe to only rows <code>i</code> that
have no missing values, then returns the difference in the mean of the
first column minus the mean of the second column.</p>
<p>Hint: start by doing this calculation on the weight and height
columns of the <code>NHANES</code> dataset, then copy your working code
into a function.</p>
</div>
<div class="section level2">
<h2 id="debugging-with-the-browser-command">Debugging with the Browser Command<a class="anchor" aria-label="anchor" href="#debugging-with-the-browser-command"></a>
</h2>
<p>If your function is working without error, create an error
intentionally. For example, pass a character value for the argument
<code>i</code>.</p>
<p>Now we want to use the <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code> command to debug the
function. The <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code> command will stop the execution of
the function at a specific point and allow us to inspect the values of
variables and objects.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Insert the <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code> command as the first line
inside your function, and pass this new function definition to the R
console.</p></li>
<li><p>Use <code><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls()</a></code> or the “Environment” tab to see what
variables are visible in your new environment within the function. What
variables do you see? What are they? How has this changed from before
you entered the function?</p></li>
<li><p>Once you have figured out what caused the error, exit from
browser using Q, remove the browser command from your function, and
re-define it without containing <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code>.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="write-another-function">Write another function<a class="anchor" aria-label="anchor" href="#write-another-function"></a>
</h2>
<p>Write another function that takes the same input arguments, but
returns the difference in mean weight of males minus mean weight of
females.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Levi Waldron, Zach Shahn, Marcel Ramos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
